# This is the configuration file for pytest, the Python testing framework.
# It allows you to customize pytest's behavior for your project.

[pytest]
# This option adds command-line arguments to pytest every time it's run.
# `--import-mode=prepend` ensures that imports are handled correctly, especially in complex project structures.
addopts = --import-mode=prepend

# This specifies additional directories to add to the Python path when running tests.
# This helps pytest find modules in your backend and fl-node directories.
pythonpath = backend fl-node

# This lists directories that pytest should not recursively search for tests.
# This is useful for excluding test files that are disabled or not meant to be run automatically.
norecursedirs = federated-cancer-screening/backend/fl_server/tests_disabled

# This section defines custom markers that can be used to categorize and filter tests.
markers =
    # Marks tests as 'slow'. You can run tests without 'slow' tests using `-m "not slow"`.
    slow: marks tests as slow (deselect with '-m "not slow"')
    # Marks tests as 'end-to-end'. You can run tests without 'e2e' tests using `-m "not e2e"`.
    e2e: marks tests as end-to-end (deselect with '-m "not e2e"')

# Configures asyncio mode for pytest-asyncio plugin.
asyncio_mode = auto
# Configures the backend for the anyio library, often used with FastAPI's async tests.
anyio_backend = asyncio

# This section allows you to filter or ignore specific warnings during test execution.
filterwarnings =
    # Ignores warnings about unknown config options, which can happen with older pytest versions or plugins.
    ignore:Unknown config option:
    ignore::DeprecationWarning